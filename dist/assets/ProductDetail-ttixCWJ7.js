import{c as j,r as c,u as C,d as P,j as e,e as S,g as v,C as l,B as y}from"./index-Lcmh4N_S.js";import{C as E}from"./Container-BxSh5jkg.js";import{R as N}from"./Row-RNs9Kojs.js";import{C as u}from"./Carousel-BVoGjaNQ.js";const T=()=>{const{id:o}=j(),[t,m]=c.useState(null),[p,i]=c.useState(!0),{t:a,i18n:s}=C();c.useEffect(()=>{P(o,s.language).then(r=>{m(r),i(!1)}).catch(r=>{console.error("Chyba při načítání detailu produktu:",r),i(!1)})},[o,s.language]);const g=()=>{if(!t)return;const r=JSON.parse(localStorage.getItem("cart")||"[]");r.push(t),localStorage.setItem("cart",JSON.stringify(r)),alert(a("addToCartSuccess",{product:t.name})),window.dispatchEvent(new Event("cartUpdated"))};if(p)return e.jsx("div",{children:a("loadingProductDetail")||"Načítám detail produktu..."});if(!t)return e.jsx("div",{children:a("productNotFound")||"Produkt nenalezen."});const n=s.language==="en"?"USD":s.language==="eu"?"EUR":"CZK",h=s.language==="en"?"en-US":"cs-CZ",x=n==="CZK"?t.price:S(t.price,n),f=v(x,n,h);return e.jsx(E,{className:"my-4",children:e.jsxs(N,{children:[e.jsx(l,{md:6,children:e.jsx(u,{children:t.images.map((r,d)=>e.jsx(u.Item,{children:e.jsx("img",{className:"d-block w-100",src:r,alt:`${t.name} ${d+1}`})},d))})}),e.jsxs(l,{md:6,children:[e.jsx("h2",{children:t.name}),e.jsx("p",{children:t.description}),e.jsxs("h4",{children:[a("productPrice"),": ",f]}),e.jsxs("p",{children:[a("rating"),": ",t.rating]}),e.jsx(y,{variant:"primary",onClick:g,children:a("addToCart")})]})]})})};export{T as default};
