import{r as c,u as x,f as j,j as e,a as p,L as f,b as N,P as v,H as k}from"./index-Cb75GjaO.js";import{C as u}from"./Carousel-B0hQRGwr.js";import{C as S}from"./Container-DGMVRYUx.js";const y=()=>{const[t,o]=c.useState([]),[i,n]=c.useState(!0),[l,h]=c.useState(""),{i18n:d}=x();return c.useEffect(()=>{j(d.language).then(s=>{const r=s.sort((a,m)=>a.order-m.order);o(r),n(!1)}).catch(s=>{h(s.message),n(!1)})},[d.language]),i?e.jsx("p",{children:"Načítám slider..."}):l?e.jsxs("p",{children:["Chyba: ",l]}):e.jsx("div",{className:"slider-container",children:e.jsx(u,{children:t.map(s=>e.jsxs(u.Item,{children:[e.jsx("div",{className:"slider-item",children:e.jsx("img",{className:"slider-image",src:s.image,alt:s.title})}),e.jsxs(u.Caption,{children:[e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.description})]})]},s.id))})})},C=({displayType:t})=>{const{t:o,i18n:i}=x(),[n,l]=c.useState([]),[h,d]=c.useState(!0);return c.useEffect(()=>{p(i.language).then(s=>{const r=s.filter(a=>a.displayType===t);l(r),d(!1)}).catch(s=>{console.error(s),d(!1)})},[t,i.language]),h?e.jsx("div",{children:o("loadingCategories")||"Načítám kategorie..."}):n.length?e.jsx("div",{className:"categories-container",children:n.map(s=>{const r=t==="icon"?s.iconUrl:s.imageUrl,a=s[`name_${i.language}`]||s.name;return e.jsxs(f,{to:`/category/${s.id}`,className:"category-box",children:[e.jsx("div",{className:"category-img-top",style:{backgroundImage:`url(${r})`},"aria-label":a}),e.jsx("div",{className:"category-body",children:e.jsx("p",{children:a})})]},s.id)})}):e.jsx("div",{children:o("noCategories")||"Žádné kategorie k zobrazení"})},b=()=>e.jsxs("div",{children:[e.jsx("h3",{children:"Heureka Recenze"}),e.jsx("p",{children:"Tady se jednou objeví recenze z Heureka.cz"})]}),w=(t,o)=>{const i=[];for(let n=0;n<t.length;n+=o)i.push(t.slice(n,n+o));return i},g=({filter:t})=>{const[o,i]=c.useState([]),[n,l]=c.useState(!0),{i18n:h}=x();if(c.useEffect(()=>{N(t,h.language).then(r=>{i(r),l(!1)}).catch(r=>{console.error("Chyba při načítání produktů:",r),l(!1)})},[t,h.language]),n)return e.jsx("div",{children:"Načítám produkty..."});const d=w(o,5),s=r=>{console.log("Přidávám do košíku:",r);const a=JSON.parse(localStorage.getItem("cart")||"[]");a.push(r),localStorage.setItem("cart",JSON.stringify(a)),alert(`Produkt "${r.name}" byl přidán do košíku.`),window.dispatchEvent(new Event("cartUpdated"))};return e.jsx(S,{className:"product-carousel",children:e.jsx("section",{className:"product-section",children:e.jsx(u,{children:d.map((r,a)=>e.jsx(u.Item,{children:e.jsx("div",{className:"product-group",children:r.map(m=>e.jsx("div",{className:"product-item",children:e.jsx(v,{product:m,onAddToCart:s})},m.id))})},a))})})})},H=()=>{const{t}=x();return e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsx("title",{children:t("homeTitle")}),e.jsx("meta",{name:"description",content:t("homeDescription")})]}),e.jsxs("div",{className:"home-container",children:[e.jsx(y,{}),e.jsx("section",{className:"section-categories",children:e.jsx(C,{displayType:"image"})}),e.jsxs("section",{className:"section info",children:[e.jsx("h2",{children:t("whyShopTitle")}),e.jsx("p",{children:t("whyShopText")})]}),e.jsxs("section",{className:"section heureka-reviews",children:[e.jsx("h2",{children:t("heurekaReviewsTitle")}),e.jsx(b,{})]}),e.jsxs("section",{className:"section bestsellers",children:[e.jsx("h2",{children:t("bestsellers")}),e.jsx(g,{filter:{isBestseller:!0}})]}),e.jsxs("section",{className:"section sale",children:[e.jsx("h2",{children:t("sale")}),e.jsx(g,{filter:{isSale:!0}})]}),e.jsxs("section",{className:"section new",children:[e.jsx("h2",{children:t("new")}),e.jsx(g,{filter:{isNew:!0}})]})]})]})};export{H as default};
